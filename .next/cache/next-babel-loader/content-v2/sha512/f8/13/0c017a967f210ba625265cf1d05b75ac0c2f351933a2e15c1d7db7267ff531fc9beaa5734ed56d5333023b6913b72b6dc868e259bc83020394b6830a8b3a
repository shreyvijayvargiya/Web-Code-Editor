{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/shreyvijayvargiya/Desktop/Project/Web-Code-Editor/modules/DirectoryView.jsx/index.jsx\";\nimport React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { IconButton, Tooltip } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { TreeView, TreeItem } from \"@mui/lab\";\nimport { AiFillFolderAdd, AiFillFileAdd, AiFillFolder, AiFillFolderOpen } from \"react-icons/ai\";\nimport router from \"next/router\";\nimport { FileIconByName, CloseIcon, ExpandIcon, CollapseIcon, CloseFolderIcon, OutlineRightIcon } from \"../UI/Icons\";\nimport colors from \"utils/config/colors\";\nimport { addActiveFile, addActiveFiles } from \"redux/slice\";\nimport { batch } from \"react-redux\";\n\nconst DirectoryView = () => {\n  const dispatch = useDispatch();\n  const {\n    activeFiles,\n    initialRepoTree,\n    activeFile\n  } = useSelector(state => state);\n  const styles = useStyles();\n  const {\n    0: expanded,\n    1: setExpanded\n  } = useState([]);\n  const {\n    0: repoTree,\n    1: setRepoTree\n  } = useState(initialRepoTree);\n  const {\n    0: selected,\n    1: setSelected\n  } = useState([]);\n  const {\n    0: hoverId,\n    1: setHoverId\n  } = useState();\n  const {\n    0: openedFile,\n    1: setOpenedFile\n  } = useState(...activeFiles);\n\n  const handleToggle = (event, nodeIds) => {\n    setExpanded(nodeIds);\n  };\n\n  const handleSelect = (event, nodeIds) => {\n    setSelected(nodeIds);\n  };\n\n  const handleExpandClick = () => {\n    if (expanded.length === 0) {\n      let directories = [];\n\n      const getDirectorNames = tree => {\n        tree.children.filter(node => {\n          if (node.kind === \"directory\") {\n            directories.push(node.name);\n            getDirectorNames(node);\n          }\n        });\n      };\n\n      getDirectorNames(repoTree);\n      setExpanded(directories);\n    } else {\n      setExpanded([]);\n    }\n  };\n\n  const generateRandomName = extensionRequired => {\n    const randomString = Math.random().toString(36).substring(2, 8);\n    const extension = Math.random() < 0.5 ? \".txt\" : \".jsx\";\n    return `${extensionRequired ? randomString + extension : randomString}`;\n  };\n\n  const getParentNode = (currentNode, name) => {\n    if (!currentNode.children) {\n      return null;\n    }\n\n    for (const child of currentNode === null || currentNode === void 0 ? void 0 : currentNode.children) {\n      if (child.name === name) {\n        return currentNode;\n      } else {\n        const parentNode = getParentNode(child, name);\n\n        if (parentNode) {\n          return parentNode;\n        }\n      }\n    }\n\n    return null;\n  };\n\n  const findTargetDir = (nodes, newNode) => {\n    nodes.children.forEach(node => {\n      if (node.name === selected && node.kind === \"directory\") {\n        var _node$children;\n\n        if (!node.children) {\n          node.children = [];\n        }\n\n        return node === null || node === void 0 ? void 0 : (_node$children = node.children) === null || _node$children === void 0 ? void 0 : _node$children.push(newNode);\n      } else if (node.name !== selected && node.kind === \"directory\") {\n        findTargetDir(node, newNode);\n      } else if (node.name === selected && node.kind === \"file\") {\n        var _parentNode$children;\n\n        const parentNode = getParentNode(nodes, selected);\n\n        if (!parentNode.children) {\n          parentNode.children = [];\n        }\n\n        return parentNode === null || parentNode === void 0 ? void 0 : (_parentNode$children = parentNode.children) === null || _parentNode$children === void 0 ? void 0 : _parentNode$children.push(newNode);\n      }\n    });\n    return nodes;\n  };\n\n  const addFolder = () => {\n    const newFolder = {\n      name: generateRandomName(false),\n      kind: \"directory\",\n      children: []\n    };\n    let tree = repoTree;\n    const finalTree = findTargetDir(tree, newFolder);\n    setRepoTree(finalTree);\n  };\n\n  const addFile = () => {\n    const newFile = {\n      name: generateRandomName(true),\n      kind: \"file\",\n      modified: Date.now().toLocaleString(),\n      size: \"1KB\"\n    };\n    let tree = repoTree;\n    const finalTree = findTargetDir(tree, newFile);\n    setRepoTree(finalTree);\n  };\n\n  const removeFile = name => {\n    function removeNodeByName(node) {\n      if (!node || !node.children) {\n        return false;\n      }\n\n      const index = node.children.findIndex(child => (child === null || child === void 0 ? void 0 : child.name) === name);\n\n      if (index > -1) {\n        node.children.splice(index, 1);\n        return true;\n      }\n\n      for (const child of node.children) {\n        if (removeNodeByName(child, name)) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n\n    removeNodeByName(repoTree);\n  };\n\n  const removeDir = name => {\n    function removeDirectory(tree) {\n      if (tree.children) {\n        tree.children = tree === null || tree === void 0 ? void 0 : tree.children.filter(node => {\n          if (node.kind === \"directory\" && node.name === name) {\n            return false;\n          } else {\n            return removeDirectory(node);\n          }\n        });\n      }\n\n      return tree;\n    }\n\n    removeDirectory(repoTree);\n  };\n\n  const openFileInEditor = name => {\n    let data = [...openedFile];\n\n    if (!openedFile.includes(name)) {\n      data.push(name);\n    }\n\n    setOpenedFile(data);\n    dispatch(addActiveFile(name));\n    dispatch(addActiveFiles(data));\n  };\n\n  const DirectoryTree = ({\n    tree\n  }) => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: (tree === null || tree === void 0 ? void 0 : tree.children) && (tree === null || tree === void 0 ? void 0 : tree.children.map((item, index) => {\n        if (item.kind === \"file\") return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `flex justify-between items-center cursor-pointer text-gray-400 hover:text-gray-200 pl-8 my-1 ${activeFile === item.name ? \"bg-gray-800\" : \"bg-gray-900\"}`,\n          onMouseEnter: () => setHoverId(item.name),\n          onMouseLeave: () => setHoverId(null),\n          onClick: e => {\n            e.preventDefault();\n            openFileInEditor(item.name);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-start items-center gap-1\",\n            children: [/*#__PURE__*/_jsxDEV(FileIconByName, {\n              name: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: item.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 10\n          }, this), hoverId === item.name && /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: () => removeFile(item.name),\n            children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 12\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 11\n          }, this)]\n        }, `${item.name}_${index}`, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 9\n        }, this);else return /*#__PURE__*/_jsxDEV(TreeItem, {\n          nodeId: item.name,\n          onMouseEnter: () => setHoverId(item.name),\n          onMouseLeave: () => setHoverId(null),\n          label: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center w-full\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex justify-start items-center gap-1\",\n              children: [expanded.includes(item.name) ? /*#__PURE__*/_jsxDEV(AiFillFolderOpen, {\n                size: 20,\n                color: colors.blue[400]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 14\n              }, this) : /*#__PURE__*/_jsxDEV(AiFillFolder, {\n                size: 20,\n                color: colors.blue[400]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 14\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: item.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 12\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: e => {\n                e.stopPropagation();\n                removeDir(item.name);\n              },\n              children: hoverId == item.name && /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 38\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 12\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 11\n          }, this),\n          className: styles.folderItem,\n          children: /*#__PURE__*/_jsxDEV(DirectoryTree, {\n            tree: item\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 10\n          }, this)\n        }, item.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 9\n        }, this);\n      }))\n    }, void 0, false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-gray-200 w-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-2\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xl cursor-pointer\",\n        onClick: () => router.push(\"/\"),\n        children: \"Repository\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center p-4 border-t border-b border-gray-800\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Ignite Assignment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-evenly items-center\",\n        children: [/*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Add file\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            children: /*#__PURE__*/_jsxDEV(AiFillFileAdd, {\n              size: 18,\n              color: colors.trueGray[400],\n              onClick: addFile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"Add folder\",\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            children: /*#__PURE__*/_jsxDEV(AiFillFolderAdd, {\n              size: 18,\n              color: colors.trueGray[400],\n              onClick: addFolder\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 8\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: expanded.length === 0 ? \"Expand\" : \"Collapse\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            onClick: handleExpandClick,\n            children: expanded.length === 0 ? /*#__PURE__*/_jsxDEV(ExpandIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(CollapseIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4\",\n      children: /*#__PURE__*/_jsxDEV(TreeView, {\n        \"aria-label\": \"controlled\",\n        expanded: expanded,\n        selected: selected,\n        defaultCollapseIcon: /*#__PURE__*/_jsxDEV(CloseFolderIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 27\n        }, this),\n        defaultExpandIcon: /*#__PURE__*/_jsxDEV(OutlineRightIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 25\n        }, this),\n        onNodeToggle: handleToggle,\n        onNodeSelect: handleSelect,\n        className: styles.directoryTree,\n        children: /*#__PURE__*/_jsxDEV(DirectoryTree, {\n          tree: repoTree\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 3\n  }, this);\n};\n\nexport default DirectoryView;\nexport const useStyles = makeStyles(() => ({\n  folderItem: {\n    \"& .css-1kylpgj-MuiTreeItem-content.Mui-selected:hover\": {\n      backgroundColor: colors.gray[800]\n    },\n    \"& .css-1kylpgj-MuiTreeItem-content.Mui-selected\": {\n      backgroundColor: colors.gray[800]\n    }\n  },\n  directoryTree: {}\n}));","map":{"version":3,"sources":["/Users/shreyvijayvargiya/Desktop/Project/Web-Code-Editor/modules/DirectoryView.jsx/index.jsx"],"names":["React","useState","useSelector","useDispatch","IconButton","Tooltip","makeStyles","TreeView","TreeItem","AiFillFolderAdd","AiFillFileAdd","AiFillFolder","AiFillFolderOpen","router","FileIconByName","CloseIcon","ExpandIcon","CollapseIcon","CloseFolderIcon","OutlineRightIcon","colors","addActiveFile","addActiveFiles","batch","DirectoryView","dispatch","activeFiles","initialRepoTree","activeFile","state","styles","useStyles","expanded","setExpanded","repoTree","setRepoTree","selected","setSelected","hoverId","setHoverId","openedFile","setOpenedFile","handleToggle","event","nodeIds","handleSelect","handleExpandClick","length","directories","getDirectorNames","tree","children","filter","node","kind","push","name","generateRandomName","extensionRequired","randomString","Math","random","toString","substring","extension","getParentNode","currentNode","child","parentNode","findTargetDir","nodes","newNode","forEach","addFolder","newFolder","finalTree","addFile","newFile","modified","Date","now","toLocaleString","size","removeFile","removeNodeByName","index","findIndex","splice","removeDir","removeDirectory","openFileInEditor","data","includes","DirectoryTree","map","item","e","preventDefault","blue","stopPropagation","folderItem","trueGray","directoryTree","backgroundColor","gray"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { IconButton, Tooltip } from \"@mui/material\";\nimport { makeStyles } from \"@mui/styles\";\nimport { TreeView, TreeItem } from \"@mui/lab\";\nimport {\n\tAiFillFolderAdd,\n\tAiFillFileAdd,\n\tAiFillFolder,\n\tAiFillFolderOpen,\n} from \"react-icons/ai\";\nimport router from \"next/router\";\nimport {\n\tFileIconByName,\n\tCloseIcon,\n\tExpandIcon,\n\tCollapseIcon,\n\tCloseFolderIcon,\n\tOutlineRightIcon,\n} from \"../UI/Icons\";\nimport colors from \"utils/config/colors\";\nimport { addActiveFile, addActiveFiles } from \"redux/slice\";\nimport { batch } from \"react-redux\";\n\nconst DirectoryView = () => {\n\tconst dispatch = useDispatch();\n\tconst { activeFiles, initialRepoTree, activeFile } = useSelector(\n\t\t(state) => state\n\t);\n\tconst styles = useStyles();\n\tconst [expanded, setExpanded] = useState([]);\n\tconst [repoTree, setRepoTree] = useState(initialRepoTree);\n\tconst [selected, setSelected] = useState([]);\n\tconst [hoverId, setHoverId] = useState();\n\tconst [openedFile, setOpenedFile] = useState(...activeFiles);\n\n\tconst handleToggle = (event, nodeIds) => {\n\t\tsetExpanded(nodeIds);\n\t};\n\tconst handleSelect = (event, nodeIds) => {\n\t\tsetSelected(nodeIds);\n\t};\n\n\tconst handleExpandClick = () => {\n\t\tif (expanded.length === 0) {\n\t\t\tlet directories = [];\n\t\t\tconst getDirectorNames = (tree) => {\n\t\t\t\ttree.children.filter((node) => {\n\t\t\t\t\tif (node.kind === \"directory\") {\n\t\t\t\t\t\tdirectories.push(node.name);\n\t\t\t\t\t\tgetDirectorNames(node);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t};\n\t\t\tgetDirectorNames(repoTree);\n\t\t\tsetExpanded(directories);\n\t\t} else {\n\t\t\tsetExpanded([]);\n\t\t}\n\t};\n\n\tconst generateRandomName = (extensionRequired) => {\n\t\tconst randomString = Math.random().toString(36).substring(2, 8);\n\t\tconst extension = Math.random() < 0.5 ? \".txt\" : \".jsx\";\n\t\treturn `${extensionRequired ? randomString + extension : randomString}`;\n\t};\n\n\tconst getParentNode = (currentNode, name) => {\n\t\tif (!currentNode.children) {\n\t\t\treturn null;\n\t\t}\n\t\tfor (const child of currentNode?.children) {\n\t\t\tif (child.name === name) {\n\t\t\t\treturn currentNode;\n\t\t\t} else {\n\t\t\t\tconst parentNode = getParentNode(child, name);\n\t\t\t\tif (parentNode) {\n\t\t\t\t\treturn parentNode;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t};\n\n\tconst findTargetDir = (nodes, newNode) => {\n\t\tnodes.children.forEach((node) => {\n\t\t\tif (node.name === selected && node.kind === \"directory\") {\n\t\t\t\tif (!node.children) {\n\t\t\t\t\tnode.children = [];\n\t\t\t\t}\n\t\t\t\treturn node?.children?.push(newNode);\n\t\t\t} else if (node.name !== selected && node.kind === \"directory\") {\n\t\t\t\tfindTargetDir(node, newNode);\n\t\t\t} else if (node.name === selected && node.kind === \"file\") {\n\t\t\t\tconst parentNode = getParentNode(nodes, selected);\n\t\t\t\tif (!parentNode.children) {\n\t\t\t\t\tparentNode.children = [];\n\t\t\t\t}\n\t\t\t\treturn parentNode?.children?.push(newNode);\n\t\t\t}\n\t\t});\n\t\treturn nodes;\n\t};\n\n\tconst addFolder = () => {\n\t\tconst newFolder = {\n\t\t\tname: generateRandomName(false),\n\t\t\tkind: \"directory\",\n\t\t\tchildren: [],\n\t\t};\n\t\tlet tree = repoTree;\n\t\tconst finalTree = findTargetDir(tree, newFolder);\n\t\tsetRepoTree(finalTree);\n\t};\n\n\tconst addFile = () => {\n\t\tconst newFile = {\n\t\t\tname: generateRandomName(true),\n\t\t\tkind: \"file\",\n\t\t\tmodified: Date.now().toLocaleString(),\n\t\t\tsize: \"1KB\",\n\t\t};\n\t\tlet tree = repoTree;\n\t\tconst finalTree = findTargetDir(tree, newFile);\n\t\tsetRepoTree(finalTree);\n\t};\n\n\tconst removeFile = (name) => {\n\t\tfunction removeNodeByName(node) {\n\t\t\tif (!node || !node.children) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst index = node.children.findIndex((child) => child?.name === name);\n\t\t\tif (index > -1) {\n\t\t\t\tnode.children.splice(index, 1);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tfor (const child of node.children) {\n\t\t\t\tif (removeNodeByName(child, name)) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\t\tremoveNodeByName(repoTree);\n\t};\n\n\tconst removeDir = (name) => {\n\t\tfunction removeDirectory(tree) {\n\t\t\tif (tree.children) {\n\t\t\t\ttree.children = tree?.children.filter((node) => {\n\t\t\t\t\tif (node.kind === \"directory\" && node.name === name) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn removeDirectory(node);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn tree;\n\t\t}\n\t\tremoveDirectory(repoTree);\n\t};\n\n\tconst openFileInEditor = (name) => {\n\t\tlet data = [...openedFile];\n\t\tif (!openedFile.includes(name)) {\n\t\t\tdata.push(name);\n\t\t}\n\t\tsetOpenedFile(data);\n\t\tdispatch(addActiveFile(name));\n\t\tdispatch(addActiveFiles(data));\n\t};\n\n\tconst DirectoryTree = ({ tree }) => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{tree?.children &&\n\t\t\t\t\ttree?.children.map((item, index) => {\n\t\t\t\t\t\tif (item.kind === \"file\")\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={`${item.name}_${index}`}\n\t\t\t\t\t\t\t\t\tclassName={`flex justify-between items-center cursor-pointer text-gray-400 hover:text-gray-200 pl-8 my-1 ${\n\t\t\t\t\t\t\t\t\t\tactiveFile === item.name ? \"bg-gray-800\" : \"bg-gray-900\"\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\tonMouseEnter={() => setHoverId(item.name)}\n\t\t\t\t\t\t\t\t\tonMouseLeave={() => setHoverId(null)}\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\topenFileInEditor(item.name);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"flex justify-start items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t<FileIconByName name={item.name} />\n\t\t\t\t\t\t\t\t\t\t<p>{item.name}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t{hoverId === item.name && (\n\t\t\t\t\t\t\t\t\t\t<div onClick={() => removeFile(item.name)}>\n\t\t\t\t\t\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<TreeItem\n\t\t\t\t\t\t\t\t\tkey={item.name}\n\t\t\t\t\t\t\t\t\tnodeId={item.name}\n\t\t\t\t\t\t\t\t\tonMouseEnter={() => setHoverId(item.name)}\n\t\t\t\t\t\t\t\t\tonMouseLeave={() => setHoverId(null)}\n\t\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between items-center w-full\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-start items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{expanded.includes(item.name) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<AiFillFolderOpen\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize={20}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={colors.blue[400]}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<AiFillFolder size={20} color={colors.blue[400]} />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t<p>{item.name}</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\t\tremoveDir(item.name);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{hoverId == item.name && <CloseIcon />}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tclassName={styles.folderItem}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<DirectoryTree tree={item} />\n\t\t\t\t\t\t\t\t</TreeItem>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t</>\n\t\t);\n\t};\n\treturn (\n\t\t<div className=\"text-gray-200 w-full\">\n\t\t\t<div className=\"p-2\">\n\t\t\t\t<p className=\"text-xl cursor-pointer\" onClick={() => router.push(\"/\")}>\n\t\t\t\t\tRepository\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"flex justify-between items-center p-4 border-t border-b border-gray-800\">\n\t\t\t\t<p>Ignite Assignment</p>\n\t\t\t\t<div className=\"flex justify-evenly items-center\">\n\t\t\t\t\t<Tooltip title=\"Add file\">\n\t\t\t\t\t\t<IconButton>\n\t\t\t\t\t\t\t<AiFillFileAdd\n\t\t\t\t\t\t\t\tsize={18}\n\t\t\t\t\t\t\t\tcolor={colors.trueGray[400]}\n\t\t\t\t\t\t\t\tonClick={addFile}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title=\"Add folder\">\n\t\t\t\t\t\t<IconButton>\n\t\t\t\t\t\t\t<AiFillFolderAdd\n\t\t\t\t\t\t\t\tsize={18}\n\t\t\t\t\t\t\t\tcolor={colors.trueGray[400]}\n\t\t\t\t\t\t\t\tonClick={addFolder}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<Tooltip title={expanded.length === 0 ? \"Expand\" : \"Collapse\"}>\n\t\t\t\t\t\t<div onClick={handleExpandClick}>\n\t\t\t\t\t\t\t{expanded.length === 0 ? <ExpandIcon /> : <CollapseIcon />}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"p-4\">\n\t\t\t\t<TreeView\n\t\t\t\t\taria-label=\"controlled\"\n\t\t\t\t\texpanded={expanded}\n\t\t\t\t\tselected={selected}\n\t\t\t\t\tdefaultCollapseIcon={<CloseFolderIcon />}\n\t\t\t\t\tdefaultExpandIcon={<OutlineRightIcon />}\n\t\t\t\t\tonNodeToggle={handleToggle}\n\t\t\t\t\tonNodeSelect={handleSelect}\n\t\t\t\t\tclassName={styles.directoryTree}\n\t\t\t\t>\n\t\t\t\t\t<DirectoryTree tree={repoTree} />\n\t\t\t\t</TreeView>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\nexport default DirectoryView;\n\nexport const useStyles = makeStyles(() => ({\n\tfolderItem: {\n\t\t\"& .css-1kylpgj-MuiTreeItem-content.Mui-selected:hover\": {\n\t\t\tbackgroundColor: colors.gray[800],\n\t\t},\n\t\t\"& .css-1kylpgj-MuiTreeItem-content.Mui-selected\": {\n\t\t\tbackgroundColor: colors.gray[800],\n\t\t},\n\t},\n\tdirectoryTree: {},\n}));\n"]},"metadata":{},"sourceType":"module"}